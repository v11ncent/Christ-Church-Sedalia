---
import { Image } from "astro:assets";
import CircleLink from "./CircleLink.astro";

interface Props {
  image: string;
  title: string;
  description: string;
  link: string;
  date: Date;
}

const { image, title, description, link } = Astro.props;
---

<article>
  <a
    href={link}
    target="_blank"
    rel="noopener noreferrer"
    aria-label="Click to watch the video on Facebook"></a>
  <div class="image-container">
    <Image
      src={image ? image : ""}
      width={400}
      height={320}
      alt="Image that hopefully represents the media."
    />
    <CircleLink to={link} text="View video" />
  </div>
  <div class="text-container">
    <header>
      {title ? <h3 class="heading">{title}</h3> : ""}
    </header>
    {description ? <p>{description}</p> : ""}
  </div>
</article>

<style lang="scss">
  @use "../styles/tokens/tokens" as t;

  article {
    position: relative;
    max-width: 26.25rem; /* Funny number ðŸ˜¯ðŸ’¨*/

    :global(.circle-link-container) {
      position: absolute;
      bottom: 0;
      right: 0;
      transform: translate(15%, 15%);
    }
  }

  a {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 10;
    text-decoration: none;
  }

  .image-container {
    position: relative;
    height: 20rem;
    width: 100%;
    margin-bottom: 2rem;
    border-radius: t.$br-small t.$br-large t.$br-small t.$br-large;
    background-color: t.$clr-tan;
    box-shadow: t.$s-main;

    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: top;
      border-radius: inherit;
    }
  }

  header {
    margin-bottom: 0.75rem;

    .heading {
      font-size: 1.25rem;
      font-family: t.$ff-yeseva;
      color: t.$clr-black;
    }
  }

  p {
    font-weight: 300;
    font-family: t.$ff-poppy;
    color: t.$clr-grey;
    font-size: 0.875rem;
  }
</style>
